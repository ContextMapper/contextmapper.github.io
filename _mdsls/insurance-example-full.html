<div class="highlight"><pre><span></span><span class="c">/*</span>
<span class="c"> * The customer management context is responsible for managing all the data of the insurance companies customers.</span>
<span class="c"> */</span>
<span class="k">API description</span> CustomerManagementContextAPI
<span class="k">usage context</span> <span class="k">PUBLIC_API</span> <span class="k">for</span> <span class="k">BACKEND_INTEGRATION</span>

<span class="c">// PROTECTED REGION DATA TYPES BEGIN</span>
<span class="c">// Hint: move data types which should not be overwritten by the generator into this section.</span>

<span class="c">// PROTECTED REGION DATA TYPES END</span>

<span class="k">data type</span> Address { <span class="s">&quot;street&quot;</span>:<span class="k">V</span>&lt;<span class="k">string</span>&gt;, <span class="s">&quot;postalCode&quot;</span>:<span class="k">V</span>&lt;<span class="k">int</span>&gt;, <span class="s">&quot;city&quot;</span>:<span class="k">V</span>&lt;<span class="k">string</span>&gt; }
<span class="k">data type</span> AddressId <span class="k">P</span>
<span class="k">data type</span> changeCustomerParameter { <span class="s">&quot;firstname&quot;</span>:<span class="k">V</span>&lt;<span class="k">string</span>&gt;, <span class="s">&quot;lastname&quot;</span>:<span class="k">V</span>&lt;<span class="k">string</span>&gt; }

<span class="c">// PROTECTED REGION ENDPOINTS BEGIN</span>
<span class="c">// Hint: move endpoints which should not be overwritten by the generator into this section.</span>

<span class="c">// PROTECTED REGION ENDPOINTS END</span>

<span class="k">endpoint type</span> CustomersAggregate
	<span class="k">exposes</span>
		<span class="k">operation</span> createAddress
			<span class="k">expecting</span>
				<span class="k">payload</span> Address
			<span class="k">delivering</span>
				<span class="k">payload</span> AddressId
		<span class="k">operation</span> changeCustomer
			<span class="k">expecting</span>
				<span class="k">payload</span> changeCustomerParameter
			<span class="k">delivering</span>
				<span class="k">payload</span> V&lt;<span class="k">bool</span>&gt;

<span class="c">// PROTECTED REGION PROVIDERS BEGIN</span>
<span class="c">// Hint: move providers which should not be overwritten by the generator into this section.</span>

<span class="c">// PROTECTED REGION PROVIDERS END</span>

<span class="c">/* The upstream Bounded Context &#39;CustomerManagementContext&#39; implements OHS and PL. */</span>
<span class="k">API provider</span> CustomerManagementContextProvider
	<span class="k">offers</span> CustomersAggregate
	<span class="k">at</span> <span class="k">endpoint</span> <span class="k">location</span> <span class="s">&quot;http://localhost:8001&quot;</span>
		<span class="k">via</span> <span class="k">protocol</span> <span class="s">&quot;RESTfulHTTP&quot;</span>

<span class="c">// PROTECTED REGION CLIENTS BEGIN</span>
<span class="c">// Hint: move providers which should not be overwritten by the generator into this section.</span>

<span class="c">// PROTECTED REGION CLIENTS END</span>

<span class="c">/*</span>
<span class="c"> * The downstream Bounded Context &#39;PolicyManagementContext&#39; implements CF.</span>
<span class="c"> * This bounded context manages the contracts and policies of the customers.</span>
<span class="c"> */</span>
<span class="k">API client</span> PolicyManagementContextClient
	<span class="k">consumes</span> CustomersAggregate
<span class="c">/* This context represents a web application which allows the customer to login and change basic data records like the address. */</span>
<span class="k">API client</span> CustomerSelfServiceContextClient
	<span class="k">consumes</span> CustomersAggregate

<span class="k">IPA</span>
</pre></div>
